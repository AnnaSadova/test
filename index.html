<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Test</title>
  </head>
  <body>
    <script>
      // getting body element and divs array
      var body = document.body;
      var divs = [];

      // creating divs
      for (var i = 1; i <= 100; i++) {
        var div = document.createElement("div");
        div.textContent = `Div ${i}`;
        div.startIndex = i;
        div.isMoved = false;

        //adding styles for divs
        div.style.display = "flex";
        div.style.alignItems = "center";
        div.style.justifyContent = "center";
        div.style.width = "500px";
        div.style.height = "100px";
        div.style.margin = "auto";
        div.style.border = "2px solid black";
        div.style.cursor = "pointer";

        //adding our divs to body
        body.appendChild(div);

        // moving element
        div.addEventListener("click", function () {
          if (!this.isMoved) {
            body.removeChild(this);
            body.insertBefore(this, body.firstChild);
            this.isMoved = true;
          } else {
            body.removeChild(this);
            body.insertBefore(this, divs[this.startIndex]);
            this.isMoved = false;
          }
        });

        //pushing element to array
        divs.push(div);
      }
    </script>
  </body>
</html>
